(function(a){Timeline={};Timeline.Util={};Timeline.Util.inherits=function(c,b){c.super_=b;if(Object.create){c.prototype=Object.create(b.prototype,{constructor:{value:c,enumerable:false,writable:true,configurable:true}})}else{var d=function(){};d.prototype=b.prototype;c.prototype=new d();c.constructor=c}};Timeline.View=function(){this._element=a('<div class="'+this._getClassName()+'"></div>');this._element.appendTo("body").hide()};Timeline.View.prototype.getElement=function(){return this._element};Timeline.View.prototype.render=function(){var b=this._render();return b.show()};Timeline.HourView=function(c,b){Timeline.HourView.super_.prototype.constructor.call(this);this._hour=b;this._timeLineView=c};Timeline.Util.inherits(Timeline.HourView,Timeline.View);Timeline.HourView.prototype._getClassName=function(){return"tmHour"};Timeline.HourView.prototype.getHour=function(){return this._hour};Timeline.HourView.prototype._render=function(){var e=15;var d=60/e;for(var c=0;c<d;c++){var b=new Timeline.MinView(this,c*e,e);this._element.append(b.render())}this._element.addClass("_"+this._hour);return this._element};Timeline.LineView=function(b){Timeline.LineView.super_.prototype.constructor.call(this);this._timeSpan=b;this._hourViews=[]};Timeline.Util.inherits(Timeline.LineView,Timeline.View);Timeline.LineView.prototype._getClassName=function(){return"tmTimelineWrap"};Timeline.LineView.prototype._render=function(){var c=a('<div class="tmTimeline" />').appendTo(this._element);var e=this._timeSpan.getStartTime().getHour();var b=this._timeSpan.getEndTime().getHour();while(true){var d=new Timeline.HourView(this,e);c.append(d.render());this._hourViews.push(d);if(e===b){break}e+=1;if(e==24){e=0}}return this._element};Timeline.LineView.prototype.refreshRuler=function(){var c=this;c._element.addClass("hasRuler");var b=a('<div class="tmRuler" />').prependTo(c._element);this._hourViews.forEach(function(e){var d=a('<div class="hour">'+e.getHour()+":00</div>");b.append(d);d.height(e.getElement().outerHeight())})};Timeline.MinView=function(c,b,d){Timeline.MinView.super_.prototype.constructor.call(this);this._hourView=c;this._min=b;this._minUnit=d};Timeline.Util.inherits(Timeline.MinView,Timeline.View);Timeline.MinView.prototype._getClassName=function(){return"tmMin"};Timeline.MinView.prototype._render=function(){this._element.addClass("_"+(this._min+this._minUnit));this._element.height(this._minUnit);return this._element};Timeline.Time=function(b,c){this._hour=b===undefined?0:parseInt(b,10);this._min=c===undefined?0:parseInt(c,10)};Timeline.Time.prototype.getHour=function(){return this._hour};Timeline.Time.prototype.getMin=function(){return this._min};Timeline.Time.prototype.getDistance=function(d){var c=d.getHour();if(this._hour>c){c+=24}var b=c-this._hour;return(b*60)+(d.getMin()-this._min)};Timeline.TimeSpan=function(c,b){this._startTime=c;this._endTime=b};Timeline.TimeSpan.prototype.getDistance=function(){return this._startTime.calcMinDistance(this._endTime)};Timeline.TimeSpan.prototype.getStartTime=function(){return this._startTime};Timeline.TimeSpan.prototype.getEndTime=function(){return this._endTime}})(jQuery);